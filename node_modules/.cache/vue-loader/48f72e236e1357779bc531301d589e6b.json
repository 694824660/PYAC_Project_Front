{"remainingRequest":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue_study\\pyac_project\\src\\views\\user\\Setting.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue_study\\pyac_project\\src\\views\\user\\Setting.vue","mtime":1619445208536},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport {getInfo, update} from '@/api/user'\r\nexport default {\r\n  name: 'Setting',\r\n  data() {\r\n    return {\r\n      activeName: 'first',\r\n      labelPosition: 'right',\r\n      user: {\r\n        id: '',\r\n        username: '',\r\n        alias: '',\r\n        bio: '',\r\n        email: '',\r\n        mobile: '',\r\n        avatar: ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchInfo()\r\n  },\r\n  methods: {\r\n    fetchInfo() {\r\n      getInfo(this.$route.params.username).then(res => {\r\n        console.log(res)\r\n        const { data } = res\r\n        this.user = data\r\n      })\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event)\r\n    },\r\n    submitForm(formName) {\r\n      console.log(this.user)\r\n      update(this.user).then(res => {\r\n        this.$message.success('信息修改成功')\r\n        this.fetchInfo()\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Setting.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Setting.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\r\n  <section>\r\n    <el-card shadow=\"never\">\r\n      <div slot=\"header\">\r\n        个人设置\r\n      </div>\r\n      <div class=\"columns\">\r\n        <div class=\"column is-full\">\r\n          <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"基础信息\" name=\"first\">\r\n              <el-form :label-position=\"labelPosition\" label-width=\"100px\" :model=\"user\">\r\n                <el-form-item label=\"账号\">\r\n                  <el-input v-model=\"user.username\" disabled />\r\n                </el-form-item>\r\n                <el-form-item label=\"昵称\">\r\n                  <el-input v-model=\"user.alias\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"简介\">\r\n                  <el-input v-model=\"user.bio\" />\r\n                </el-form-item>\r\n                <el-form-item>\r\n                  <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\r\n                  <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"头像\" name=\"second\">\r\n              <figure class=\"image is-48x48\">\r\n                <img :src=\"`https://cn.gravatar.com/avatar/${this.user.id}?s=164&d=monsterid`\">\r\n              </figure>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"电子邮箱\" name=\"third\">\r\n              <el-form ref=\"dynamicValidateForm\" :model=\"user\" label-width=\"100px\" class=\"demo-dynamic\">\r\n                <el-form-item\r\n                  prop=\"email\"\r\n                  label=\"邮箱\"\r\n                  :rules=\"[\r\n                    { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                    { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change'] }\r\n                  ]\"\r\n                >\r\n                  <el-input v-model=\"user.email\" />\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                  <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\">提交</el-button>\r\n                  <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"手机号\" name=\"fourth\">\r\n              <el-form ref=\"dynamicValidateForm\" :model=\"user\" label-width=\"100px\" class=\"demo-dynamic\">\r\n                <el-form-item>\r\n                  <el-input v-model=\"user.mobile\" />\r\n                </el-form-item>\r\n\r\n                <el-form-item>\r\n                  <el-button type=\"primary\" @click=\"submitForm('dynamicValidateForm')\">提交</el-button>\r\n                  <el-button @click=\"resetForm('dynamicValidateForm')\">重置</el-button>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport {getInfo, update} from '@/api/user'\r\nexport default {\r\n  name: 'Setting',\r\n  data() {\r\n    return {\r\n      activeName: 'first',\r\n      labelPosition: 'right',\r\n      user: {\r\n        id: '',\r\n        username: '',\r\n        alias: '',\r\n        bio: '',\r\n        email: '',\r\n        mobile: '',\r\n        avatar: ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchInfo()\r\n  },\r\n  methods: {\r\n    fetchInfo() {\r\n      getInfo(this.$route.params.username).then(res => {\r\n        console.log(res)\r\n        const { data } = res\r\n        this.user = data\r\n      })\r\n    },\r\n    handleClick(tab, event) {\r\n      console.log(tab, event)\r\n    },\r\n    submitForm(formName) {\r\n      console.log(this.user)\r\n      update(this.user).then(res => {\r\n        this.$message.success('信息修改成功')\r\n        this.fetchInfo()\r\n      })\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}