{"remainingRequest":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue_study\\pyac_project\\src\\components\\Comment\\Comments.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue_study\\pyac_project\\src\\components\\Comment\\Comments.vue","mtime":1619435210316},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters } from 'vuex'\r\nimport { fetchCommentsByTopicId } from '@/api/comment'\r\nimport LvCommentsItem from './CommentsItem'\r\nimport LvCommentsForm from './CommentsForm'\r\nexport default {\r\n  name: 'LvComments',\r\n  components: {\r\n    LvCommentsForm,\r\n    LvCommentsItem\r\n  },\r\n  data() {\r\n    return {\r\n      comments: []\r\n    }\r\n  },\r\n  props: {\r\n    slug: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'token'\r\n    ])\r\n  },\r\n  async mounted() {\r\n    await this.fetchComments(this.slug)\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    async fetchComments(topic_id) {\r\n      console.log(topic_id)\r\n      fetchCommentsByTopicId(topic_id).then(response => {\r\n        const { data } = response\r\n        this.comments = data\r\n      })\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Comments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comments.vue","sourceRoot":"src/components/Comment","sourcesContent":["<template>\r\n  <section class=\"box comments\">\r\n    <hr />\r\n    <h3 class=\"title is-5\">Comments</h3>\r\n    <lv-comments-form :slug=\"slug\" v-if=\"token\" @loadComments=\"fetchComments\"/>\r\n\r\n    <lv-comments-item\r\n      v-for=\"comment in comments\"\r\n      :key=\"`comment-${comment.id}`\"\r\n      :comment=\"comment\"\r\n    />\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\nimport { fetchCommentsByTopicId } from '@/api/comment'\r\nimport LvCommentsItem from './CommentsItem'\r\nimport LvCommentsForm from './CommentsForm'\r\nexport default {\r\n  name: 'LvComments',\r\n  components: {\r\n    LvCommentsForm,\r\n    LvCommentsItem\r\n  },\r\n  data() {\r\n    return {\r\n      comments: []\r\n    }\r\n  },\r\n  props: {\r\n    slug: {\r\n      type: String,\r\n      default: null\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'token'\r\n    ])\r\n  },\r\n  async mounted() {\r\n    await this.fetchComments(this.slug)\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    async fetchComments(topic_id) {\r\n      console.log(topic_id)\r\n      fetchCommentsByTopicId(topic_id).then(response => {\r\n        const { data } = response\r\n        this.comments = data\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>"]}]}