{"remainingRequest":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue_study\\pyac_project\\src\\views\\Search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue_study\\pyac_project\\src\\views\\Search.vue","mtime":1619443962148},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { searchByKeyword } from '@/api/search'\r\nimport Pagination from '@/components/Pagination'\r\nexport default {\r\n  name: 'Search',\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      query: {\r\n        keyword: this.$route.query.key,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchList()\r\n  },\r\n  methods: {\r\n    fetchList() {\r\n      searchByKeyword(this.query).then(value => {\r\n        const { data } = value\r\n        this.list = data.records\r\n        this.query.total = data.total\r\n        this.query.pageSize = data.size\r\n        this.query.pageNum = data.current\r\n      })\r\n    }\r\n  }\r\n}\r\n",{"version":3,"sources":["Search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Search.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <el-card shadow=\"never\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        检索到 <code>{{ list.length }}</code>\r\n        条关于 <code class=\"has-text-info\">{{ query.keyword }}</code> 的记录\r\n      </div>\r\n      <div>\r\n        <article v-for=\"(item, index) in list\" :key=\"index\" class=\"media\">\r\n          <div class=\"media-left\">\r\n            <figure class=\"image is-48x48\">\r\n              <img :src=\"`https://cn.gravatar.com/avatar/${item.userId}?s=164&d=monsterid`\"> \r\n            </figure>\r\n          </div>\r\n          <div class=\"media-content\">\r\n            <div class=\"\">\r\n              <p class=\"ellipsis is-ellipsis-1\">\r\n                <el-tooltip class=\"item\" effect=\"dark\" :content=\"item.title\" placement=\"top\">\r\n                  <router-link :to=\"{name:'post-detail',params:{id:item.id}}\">\r\n                    <span class=\"is-size-6\">{{ item.title }}</span>\r\n                  </router-link>\r\n                </el-tooltip>\r\n              </p>\r\n            </div>\r\n            <nav class=\"level has-text-grey is-mobile  is-size-7 mt-2\">\r\n              <div class=\"level-left\">\r\n                <div class=\"level-left\">\r\n                  <router-link class=\"level-item\" :to=\"{ path: `/member/${item.username}/home` }\">\r\n                    {{ item.alias }}\r\n                  </router-link>\r\n\r\n                  <span class=\"mr-1\">\r\n                    发布于:{{ dayjs(item.createTime).format(\"YYYY/MM/DD\") }}\r\n                  </span>\r\n\r\n                  <span\r\n                    v-for=\"(tag, index) in item.tags\"\r\n                    :key=\"index\"\r\n                    class=\"tag is-hidden-mobile is-success is-light mr-1\"\r\n                  >\r\n                    <router-link :to=\"{ name: 'tag', params: { name: tag.name } }\">\r\n                      {{ \"#\" + tag.name }}\r\n                    </router-link>\r\n                  </span>\r\n\r\n                  <span class=\"is-hidden-mobile\">浏览:{{ item.view }}</span>\r\n                </div>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n          <div class=\"media-right\" />\r\n        </article>\r\n      </div>\r\n\r\n      <!--分页-->\r\n      <pagination\r\n        v-show=\"query.total > 0\"\r\n        :total=\"query.total\"\r\n        :page.sync=\"query.pageNum\"\r\n        :limit.sync=\"query.pageSize\"\r\n        @pagination=\"fetchList\"\r\n      />\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { searchByKeyword } from '@/api/search'\r\nimport Pagination from '@/components/Pagination'\r\nexport default {\r\n  name: 'Search',\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      list: [],\r\n      query: {\r\n        keyword: this.$route.query.key,\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        total: 0\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchList()\r\n  },\r\n  methods: {\r\n    fetchList() {\r\n      searchByKeyword(this.query).then(value => {\r\n        const { data } = value\r\n        this.list = data.records\r\n        this.query.total = data.total\r\n        this.query.pageSize = data.size\r\n        this.query.pageNum = data.current\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}