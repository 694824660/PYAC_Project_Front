{"remainingRequest":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Vue_study\\pyac_project\\src\\views\\post\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Vue_study\\pyac_project\\src\\views\\post\\Index.vue","mtime":1619400717149},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Vue_study\\pyac_project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { getList } from '@/api/post'\r\nimport Pagination from '@/components/Pagination'\r\n\r\nexport default {\r\n  name: 'TopicList',\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      activeName: 'latest',\r\n      articleList: [],\r\n      page: {\r\n        current: 1,\r\n        size: 10,\r\n        total: 0,\r\n        tab: 'latest'\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n       this.init(this.tab)\r\n  },\r\n  methods: {\r\n    init(tab) {\r\n      getList(this.page.current, this.page.size, tab).then((response) => {\r\n        const { data } = response\r\n        this.page.current = data.current\r\n        this.page.total = data.total\r\n        this.page.size = data.size\r\n        this.articleList = data.records\r\n      })\r\n    },\r\n    handleClick(tab) {\r\n      this.init(tab.name)\r\n    }\r\n  }\r\n  }\r\n",{"version":3,"sources":["Index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Index.vue","sourceRoot":"src/views/post","sourcesContent":["<template>\r\n  <div>\r\n     <el-card shadow=\"never\">\r\n      <div slot=\"header\" class=\"clearfix\">\r\n        <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n          <el-tab-pane label=\"最新主题\" name=\"latest\">\r\n            <article v-for=\"(item, index) in articleList\" :key=\"index\" class=\"media\">\r\n              <div class=\"media-left\">\r\n                <figure class=\"image is-48x48\">\r\n                  <img :src=\"`https://cn.gravatar.com/avatar/${item.userId}?s=164&d=monsterid`\" style=\"border-radius: 5px;\">\r\n                </figure>\r\n              </div>\r\n              <div class=\"media-content\">\r\n                <div class=\"\">\r\n                  <p class=\"ellipsis is-ellipsis-1\">\r\n                    <el-tooltip class=\"item\" effect=\"dark\" :content=\"item.title\" placement=\"top\">\r\n                      <router-link :to=\"{name:'post-detail',params:{id:item.id}}\">\r\n                        <span class=\"is-size-6\">{{ item.title }}</span>\r\n                      </router-link>\r\n                    </el-tooltip>\r\n                  </p>\r\n                </div>\r\n                <nav class=\"level has-text-grey is-mobile  is-size-7 mt-2\">\r\n                  <div class=\"level-left\">\r\n                    <div class=\"level-left\">\r\n                      <router-link class=\"level-item\" :to=\"{ path: `/member/${item.username}/home` }\">\r\n                        {{ item.alias }}\r\n                      </router-link>\r\n\r\n                      <span class=\"mr-1\">\r\n                        发布于:{{ dayjs(item.createTime).format(\"YYYY/MM/DD\") }}\r\n                      </span>\r\n\r\n                      <span\r\n                        v-for=\"(tag, index) in item.tags\"\r\n                        :key=\"index\"\r\n                        class=\"tag is-hidden-mobile is-success is-light mr-1\"\r\n                      >\r\n                        <router-link :to=\"{ name: 'tag', params: { name: tag.name } }\">\r\n                          {{ \"#\" + tag.name }}\r\n                        </router-link>\r\n                      </span>\r\n\r\n                      <span class=\"is-hidden-mobile\">浏览:{{ item.view }}</span>\r\n                    </div>\r\n                  </div>\r\n                </nav>\r\n              </div>\r\n              <div class=\"media-right\" />\r\n            </article>\r\n          </el-tab-pane>\r\n          <el-tab-pane label=\"热门主题\" name=\"hot\">\r\n            <article v-for=\"(item, index) in articleList\" :key=\"index\" class=\"media\">\r\n              <div class=\"media-left\">\r\n                <figure class=\"image is-48x48\">\r\n                  <img :src=\"`https://cn.gravatar.com/avatar/${item.userId}?s=164&d=monsterid`\" style=\"border-radius: 5px;\">\r\n                </figure>\r\n              </div>\r\n              <div class=\"media-content\">\r\n                <div class=\"\">\r\n                  <p class=\"ellipsis is-ellipsis-1\">\r\n                    <el-tooltip class=\"item\" effect=\"dark\" :content=\"item.title\" placement=\"top\">\r\n                      <router-link :to=\"{name:'post-detail',params:{id:item.id}}\">\r\n                        <span class=\"is-size-6\">{{ item.title }}</span>\r\n                      </router-link>\r\n                    </el-tooltip>\r\n                  </p>\r\n                </div>\r\n                <nav class=\"level has-text-grey is-mobile  is-size-7 mt-2\">\r\n                  <div class=\"level-left\">\r\n                    <div class=\"level-left\">\r\n                      <router-link class=\"level-item\" :to=\"{ path: `/member/${item.username}/home` }\">\r\n                        {{ item.alias }}\r\n                      </router-link>\r\n\r\n                      <span class=\"mr-1\">\r\n                        发布于:{{ dayjs(item.createTime).format(\"YYYY/MM/DD\") }}\r\n                      </span>\r\n\r\n                      <span\r\n                        v-for=\"(tag, index) in item.tags\"\r\n                        :key=\"index\"\r\n                        class=\"tag is-hidden-mobile is-success is-light mr-1\"\r\n                      >\r\n                        <router-link :to=\"{ name: 'tag', params: { name: tag.name } }\">\r\n                          {{ \"#\" + tag.name }}\r\n                        </router-link>\r\n                      </span>\r\n\r\n                      <span class=\"is-hidden-mobile\">浏览:{{ item.view }}</span>\r\n                    </div>\r\n                  </div>\r\n                </nav>\r\n              </div>\r\n              <div class=\"media-right\" />\r\n            </article>\r\n          </el-tab-pane>\r\n        </el-tabs>\r\n      </div>\r\n\r\n      <!--分页-->\r\n      <pagination\r\n        v-show=\"page.total > 0\"\r\n        :total=\"page.total\"\r\n        :page.sync=\"page.current\"\r\n        :limit.sync=\"page.size\"\r\n        @pagination=\"init\"\r\n      />\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getList } from '@/api/post'\r\nimport Pagination from '@/components/Pagination'\r\n\r\nexport default {\r\n  name: 'TopicList',\r\n  components: { Pagination },\r\n  data() {\r\n    return {\r\n      activeName: 'latest',\r\n      articleList: [],\r\n      page: {\r\n        current: 1,\r\n        size: 10,\r\n        total: 0,\r\n        tab: 'latest'\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n       this.init(this.tab)\r\n  },\r\n  methods: {\r\n    init(tab) {\r\n      getList(this.page.current, this.page.size, tab).then((response) => {\r\n        const { data } = response\r\n        this.page.current = data.current\r\n        this.page.total = data.total\r\n        this.page.size = data.size\r\n        this.articleList = data.records\r\n      })\r\n    },\r\n    handleClick(tab) {\r\n      this.init(tab.name)\r\n    }\r\n  }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n</style>"]}]}